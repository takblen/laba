# 1print('#1\n')


class Rectangle:
    def __init__(self, x, y, w, h):
        self.x = x
        self.y = y
        self.w = w
        self.h = h

    def intersection(self, other):
        x1 = max(self.x, other.x)
        x2 = min(self.x + self.w, other.x + other.w)
        y1 = max(self.y, other.y)
        y2 = min(self.y + self.h, other.y + other.h)

        if x1 < x2 and y1 < y2:
            return Rectangle(x1, y1, x2 - x1, y2 - y1)
        else:
            return None    def get_x(self):
        return self.x

    def get_y(self):
        return self.y

    def get_w(self):
        return self.w

    def get_h(self):
        return self.h


rect1 = Rectangle(0, 0, 10, 10)
rect2 = Rectangle(10, 0, 10, 10)
rect3 = rect1.intersection(rect2)

if rect3 is None:
    print('No intersection')
else:
    print(rect3.get_x(), rect3.get_y(), rect3.get_w(), rect3.get_h())

# 2print('\n#2\n')


class LeftParagraph:
    def __init__(self, width):
        self.width = width
        self.words = []

    def add_word(self, word):
        if len(' '.join(self.words)) + len(word) <= self.width:
            self.words.append(word)
        else:
            self.end()
            self.words.append(word)

    def end(self):
        print(' '.join(self.words))
        self.words = []


class RightParagraph:
    def __init__(self, width):
        self.width = width
        self.words = []

    def add_word(self, word):
        if len(' '.join(self.words)) + len(word) <= self.width:
            self.words.append(word)
        else:
            self.end()
            self.words.append(word)

    def end(self):
        words_length = sum(len(word) for word in self.words)
        space = self.width - words_length - len(self.words) + 1        print(' ' * space + ' '.join(self.words))
        self.words = []


lp = LeftParagraph(8)
lp.add_word('fffff')
lp.add_word('abc')
lp.add_word('fsdfsg')
lp.add_word('tfks')
lp.end()
print()

rp = RightParagraph(8)
rp.add_word('fffff')
rp.add_word('ffsgd')
rp.add_word('ff')
rp.add_word('sfse')
rp.end()
print()

# 3print('\n#3\n')


class SeaMap:
    def __init__(self):
        self.map = [['.' for _ in range(10)] for _ in range(10)]
        self.kill = []

    def shoot(self, row, col, result):
        if result == 'hit':
            self.map[row][col] = 'x'        if result == 'sink':
            self.kill.append((row, col))

    def cell(self, row, col):
        if (row, col) in self.kill:
            return 'x'        if self.map[row][col] == 'x':
            return 'x'        for r, c in self.kill:
            if (self.map[row][col] != 'x') and (abs(r - row) <= 1 and abs(c - col) <= 1):
                return '*'        return '.'sm = SeaMap()
sm.shoot(2, 0, 'sink')
sm.shoot(6, 9, 'hit')
for row in range(10):
    for col in range(10):
        print(sm.cell(row, col), end='')
    print()
# 4print('\n#4\n')


class Weapon:
    def __init__(self, name, damage, range):
        self.name = name
        self.damage = damage
        self.range = range

    def hit(self, actor, target):
        if not target.is_alive():
            print("Враг уже повержен")
        elif actor.get_distance(target) > self.range:
            print(f"Враг слишком далеко для оружия {self.name}")
        else:
            print(f"Врагу нанесен урон оружием {self.name} в размере {self.damage}")
            target.get_damage(self.damage)

    def str(self):
        return self.name


class BaseCharacter:
    def __init__(self, pos_x, pos_y, hp):
        self.pos_x = pos_x
        self.pos_y = pos_y
        self.hp = hp

    def move(self, delta_x, delta_y):
        self.pos_x += delta_x
        self.pos_y += delta_y

    def is_alive(self):
        return self.hp > 0    def get_damage(self, amount):
        self.hp -= amount
        if self.hp <= 0:
            self.hp = 0    def get_coords(self):
        return (self.pos_x, self.pos_y)

    def get_distance(self, other):
        dist_x = self.pos_x - other.pos_x
        dist_y = self.pos_y - other.pos_y
        return (dist_x ** 2 + dist_y ** 2) ** 0.5class BaseEnemy(BaseCharacter):
    def __init__(self, pos_x, pos_y, weapon, hp):
        super().__init__(pos_x, pos_y, hp)
        self.weapon = weapon

    def hit(self, target):
        if not isinstance(target, MainHero):
            print("Могу ударить только Главного героя")
        else:
            self.weapon.hit(self, target)

    def str(self):
        return f"Враг на позиции ({self.pos_x}, {self.pos_y}) с оружием {self.weapon}"class MainHero(BaseCharacter):
    def __init__(self, pos_x, pos_y, name, hp):
        super().__init__(pos_x, pos_y, hp)
        self.name = name
        self.inventory = []
        self.equipped_weapon = None    def hit(self, target):
        if not self.equipped_weapon:
            print("Я безоружен")
        elif not isinstance(target, BaseEnemy):
            print("Могу ударить только Врага")
        else:
            self.equipped_weapon.hit(self, target)

    def add_weapon(self, weapon):
        if not isinstance(weapon, Weapon):
            print("Это не оружие")
        else:
            print(f"Подобрал {weapon.name}")
            self.inventory.append(weapon)
            if not self.equipped_weapon:
                self.equipped_weapon = weapon

    def next_weapon(self):
        if not self.inventory:
            print("Я безоружен")
        elif len(self.inventory) == 1:
            print("У меня только одно оружие")
        else:
            index = self.inventory.index(self.equipped_weapon)
            index = (index + 1) % len(self.inventory)
            self.equipped_weapon = self.inventory[index]
            print(f"Сменил оружие на {self.equipped_weapon.name}")

    def heal(self, amount):
        self.hp += amount
        if self.hp > 200:
            self.hp = 200            print(f"Полечился, теперь здоровья {self.hp}")


weapon1 = Weapon("Короткий меч", 5, 1)
weapon2 = Weapon("Длинный меч", 7, 2)
weapon3 = Weapon("Лук", 3, 10)
weapon4 = Weapon("Лазерная орбитальная пушка", 1000, 1000)
princess = BaseCharacter(100, 100, 100)
archer = BaseEnemy(50, 50, weapon3, 100)
armored_swordsman = BaseEnemy(10, 10, weapon2, 500)
archer.hit(armored_swordsman)
armored_swordsman.move(10, 10)
print(armored_swordsman.get_coords())
main_hero = MainHero(0, 0, "Король Артур", 200)
main_hero.hit(armored_swordsman)
main_hero.next_weapon()
main_hero.add_weapon(weapon1)
main_hero.hit(armored_swordsman)
main_hero.add_weapon(weapon4)
main_hero.hit(armored_swordsman)
main_hero.next_weapon()
main_hero.hit(princess)
main_hero.hit(armored_swordsman)
main_hero.hit(armored_swordsman)

# 5print('\n#5\n')

class MailServer:
    def __init__(self):
        self.inbox = []

    def receive_mail(self):
        if len(self.inbox) == 0:
            return None        else:
            mail = self